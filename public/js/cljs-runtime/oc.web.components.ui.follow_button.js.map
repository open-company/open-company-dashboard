{"version":3,"sources":["oc/web/components/ui/follow_button.cljs"],"mappings":";AAMA,AAAA,AAAAA,AAAA,AAAAC,AAAUe;AAAV,AAAA,AAAAd,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAA,AAAAI,AAAAJ,AAAA,AACIe;AADJ,AAAAX,AAAAJ,AAAA,AAEIgB;AAFJ,AAAAZ,AAAAJ,AAAA,AAGIiB;AAHJ,AAAAb,AAAAJ,AAAA,AAIIkB;AAJJ,AAAAd,AAAAJ,AAAA,AAKImB;AALJ,AAAA,AAAA,AAAAd,AAOS,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAI,AAACI,AAAKS,AACRA;AARXb,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAJ,AAAA,AAAAI,AAAA,AAAA,AAAA,AAAA,AAAAH,AAAAC,AAAAE,AAAAA;AAAA,AAAAD,AAAAC,AAAA,AAMgBe;AANhB,AAAAhB,AAAAC,AAAA,AAM0BgB;AAN1B,AAAAjB,AAAAC,AAAA,AAMqCiB;AANrC,AAAAlB,AAAAC,AAAA,AAM8CkB;AAN9C,AAAA,AAAAjB,AAAA,AAAA,AAAA;AAAA,AAkBkB,AAAUa;AAAV;;AAAA,AACE,AAAI,AAAA,AAACO,AAAEV;AACL,AAACW,AAA0BV;;AAC3B,AAACW,AAA8BX;;;AArBrD,AAAAV,AAAA,AAAA,AAAA,AAAA,AAAAC,AAcc,AAAA,AAAA,AAAA,AAAA,AAAA,AAACgB,AAAqBT,AACC,AAACU,AAAIV,AACI,AAAK,AAACN,AAAKS,AACfC,AAMlC,AAAIJ,AACFK,AACAC;AAzBV,AAAA,AAAAnB,AAAAI,AAAA,AAAA,AAAA,AAAAG,AAAAD,AAAA,AAAAE,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAH,AAAA,AAAA,AAAA,AAAA,AAAAC,AAAAD,AAAA,AAAA,AAAA,AAAAI,AAAAJ;AAAA,AAAAK,AA2BQ,AAAIE,AACFO,AACAC;AA7BV,AAAA,AAAArB,AAAAI,AAAA,AAAA,AAAA,AAAAG,AAAAI,AAAA,AAAAH,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAA,AAAA,AAAA,AAAA,AAAAJ,AAAAI,AAAA,AAAA,AAAA,AAAAD,AAAAC;;AAAA,AAAA;AAgCA,AAAA,AAAAf,AAAA,AAAUgC,AACPC;AADH,AAAA,AAAA,AAAA,AAAA,AAAAzB,AAAA,AAAA,AAAA,AAAA,AAAAuB,AAIgC,AAAA,AAAmB,AAAA,AAAOE;AAJ1D,AAAA,AAAA7B,AAAAI,AAAA,AAAA,AAAA,AAAAG,AAAAoB,AAAA,AAAAnB,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAkB,AAAA,AAAA,AAAA,AAAA,AAAApB,AAAAoB,AAAA,AAAA,AAAA,AAAAjB,AAAAiB;AAAA,AAAAjB,AAKM,AAAAoB,AAAA,AAAA,AAAA,AAAA,AAAA,AAC2B,AAAA,AAAYD,AACR,AAAA,AAAOA;AAFtC,AAAA,AAAAC,AAAAA,AAAClB,AAAAA,AAAAA;;AALP,AAAA","names":["rum.core/build-defc","p__38898","map__38899","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply","cljs.core/hash-map","cljs.core.get","map__38901","js/React.createElement","sablono.util/join-classes","attrs38903","cljs.core/map?","sablono.interpreter/attributes","sablono.normalize.merge_with_class","sablono.interpreter/interpret","attrs38904","oc.web.components.ui.follow-button/follow-button","following","resource-type","resource-uuid","button-copy","disabled","active-on","active-off","hover-on","hover-off","oc.web.lib.utils/class-set","cljs.core/not","cljs.core._EQ_","oc.web.actions.user/toggle-board","oc.web.actions.user/toggle-publisher","attrs38908","oc.web.components.ui.follow-button/follow-banner","board-data","G__38909"],"sourcesContent":["(ns oc.web.components.ui.follow-button\n  (:require [rum.core :as rum]\n            [oc.web.lib.utils :as utils]\n            [oc.web.lib.responsive :as responsive]\n            [oc.web.actions.user :as user-actions]))\n\n(rum/defc follow-button ;< rum/static\n  [{following :following\n    resource-type :resource-type\n    resource-uuid :resource-uuid\n    button-copy :button-copy\n    disabled :disabled}]\n  (let [{:keys [active-on active-off hover-on hover-off]}\n         (if (map? button-copy)\n           button-copy\n           {:active-on \"Subscribed\"\n            :active-off \"Subscribe\"\n            :hover-on \"Unsubscribe\"\n            :hover-off \"Subscribe\"})]\n    [:button.mlb-reset.follow-button\n      {:class (utils/class-set {:on following\n                                :off (not following)\n                                :default-copy (not (map? button-copy))\n                                :disabled disabled})\n       :on-click #(when-not disabled\n                    (if (= resource-type :board)\n                      (user-actions/toggle-board resource-uuid)\n                      (user-actions/toggle-publisher resource-uuid)))}\n      [:span.main-title\n        (if following\n          active-on\n          active-off)]\n      [:span.hover-title\n        (if following\n          hover-on\n          hover-off)]]))\n\n\n(rum/defc follow-banner\n  [board-data]\n  (let []\n    [:div.follow-banner\n      [:span.follow-banner-copy (str \"Previewing \" (:name board-data))]\n      (follow-button {:resource-type :board\n                      :following (:following board-data)\n                      :resource-uuid (:uuid board-data)})]))"]}