shadow$provide.module$node_modules$react_virtualized$dist$commonjs$InfiniteLoader$InfiniteLoader=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isRangeVisible(_ref4){var lastRenderedStartIndex=_ref4.lastRenderedStartIndex,stopIndex=_ref4.stopIndex;return!(_ref4.startIndex>_ref4.lastRenderedStopIndex||stopIndex<lastRenderedStartIndex)}function scanForUnloadedRanges(_ref5){var isRowLoaded=_ref5.isRowLoaded,minimumBatchSize=
_ref5.minimumBatchSize,rowCount=_ref5.rowCount,stopIndex=_ref5.stopIndex,unloadedRanges=[],rangeStartIndex=null,rangeStopIndex=null;for(_ref5=_ref5.startIndex;_ref5<=stopIndex;_ref5++)isRowLoaded({index:_ref5})?null!==rangeStopIndex&&(unloadedRanges.push({startIndex:rangeStartIndex,stopIndex:rangeStopIndex}),rangeStartIndex=rangeStopIndex=null):(rangeStopIndex=_ref5,null===rangeStartIndex&&(rangeStartIndex=_ref5));if(null!==rangeStopIndex){rowCount=Math.min(Math.max(rangeStopIndex,rangeStartIndex+
minimumBatchSize-1),rowCount-1);for(stopIndex=rangeStopIndex+1;stopIndex<=rowCount&&!isRowLoaded({index:stopIndex});stopIndex++)rangeStopIndex=stopIndex;unloadedRanges.push({startIndex:rangeStartIndex,stopIndex:rangeStopIndex})}if(unloadedRanges.length)for(rangeStartIndex=unloadedRanges[0];rangeStartIndex.stopIndex-rangeStartIndex.startIndex+1<minimumBatchSize&&0<rangeStartIndex.startIndex&&(rangeStopIndex=rangeStartIndex.startIndex-1,!isRowLoaded({index:rangeStopIndex}));)rangeStartIndex.startIndex=
rangeStopIndex;return unloadedRanges}function forceUpdateReactVirtualizedComponent(component){var currentIndex=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,recomputeSize="function"===typeof component.recomputeGridSize?component.recomputeGridSize:component.recomputeRowHeights;recomputeSize?recomputeSize.call(component,currentIndex):component.forceUpdate()}Object.defineProperty(exports,"__esModule",{value:!0});global=require("module$node_modules$babel_runtime$helpers$toConsumableArray");
var _toConsumableArray3=_interopRequireDefault(global);global=require("module$node_modules$babel_runtime$core_js$object$get_prototype_of");var _getPrototypeOf2=_interopRequireDefault(global);global=require("module$node_modules$babel_runtime$helpers$classCallCheck");var _classCallCheck3=_interopRequireDefault(global);global=require("module$node_modules$babel_runtime$helpers$createClass");var _createClass3=_interopRequireDefault(global);global=require("module$node_modules$babel_runtime$helpers$possibleConstructorReturn");
var _possibleConstructorReturn3=_interopRequireDefault(global);global=require("module$node_modules$babel_runtime$helpers$inherits");var _inherits3=_interopRequireDefault(global);exports.isRangeVisible=isRangeVisible;exports.scanForUnloadedRanges=scanForUnloadedRanges;exports.forceUpdateReactVirtualizedComponent=forceUpdateReactVirtualizedComponent;global=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=
obj[key]);newObj.default=obj;return newObj}(require("module$node_modules$react$index"));module=require("module$node_modules$prop_types$index");module=_interopRequireDefault(module);require=require("module$node_modules$react_virtualized$dist$commonjs$utils$createCallbackMemoizer");var _createCallbackMemoizer2=_interopRequireDefault(require);require=function(_React$PureComponent){function InfiniteLoader(props,context){(0,_classCallCheck3.default)(this,InfiniteLoader);props=(0,_possibleConstructorReturn3.default)(this,
(InfiniteLoader.__proto__||(0,_getPrototypeOf2.default)(InfiniteLoader)).call(this,props,context));props._loadMoreRowsMemoizer=(0,_createCallbackMemoizer2.default)();props._onRowsRendered=props._onRowsRendered.bind(props);props._registerChild=props._registerChild.bind(props);return props}(0,_inherits3.default)(InfiniteLoader,_React$PureComponent);(0,_createClass3.default)(InfiniteLoader,[{key:"resetLoadMoreRowsCache",value:function(autoReload){this._loadMoreRowsMemoizer=(0,_createCallbackMemoizer2.default)();
autoReload&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){var children=this.props.children;return children({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(unloadedRanges){var _this2=this,loadMoreRows=this.props.loadMoreRows;unloadedRanges.forEach(function(unloadedRange){var promise=loadMoreRows(unloadedRange);promise&&promise.then(function(){isRangeVisible({lastRenderedStartIndex:_this2._lastRenderedStartIndex,
lastRenderedStopIndex:_this2._lastRenderedStopIndex,startIndex:unloadedRange.startIndex,stopIndex:unloadedRange.stopIndex})&&_this2._registeredChild&&forceUpdateReactVirtualizedComponent(_this2._registeredChild,_this2._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(_ref){var startIndex=_ref.startIndex;_ref=_ref.stopIndex;this._lastRenderedStartIndex=startIndex;this._lastRenderedStopIndex=_ref;this._doStuff(startIndex,_ref)}},{key:"_doStuff",value:function(startIndex,stopIndex){var _ref2,
_this3=this,_props=this.props,rowCount=_props.rowCount,threshold=_props.threshold,unloadedRanges=scanForUnloadedRanges({isRowLoaded:_props.isRowLoaded,minimumBatchSize:_props.minimumBatchSize,rowCount:rowCount,startIndex:Math.max(0,startIndex-threshold),stopIndex:Math.min(rowCount-1,stopIndex+threshold)});startIndex=(_ref2=[]).concat.apply(_ref2,(0,_toConsumableArray3.default)(unloadedRanges.map(function(_ref3){return[_ref3.startIndex,_ref3.stopIndex]})));this._loadMoreRowsMemoizer({callback:function(){_this3._loadUnloadedRanges(unloadedRanges)},
indices:{squashedUnloadedRanges:startIndex}})}},{key:"_registerChild",value:function(registeredChild){this._registeredChild=registeredChild}}]);return InfiniteLoader}(global.PureComponent);require.defaultProps={minimumBatchSize:10,rowCount:0,threshold:15};exports.default=require;require.propTypes={children:module.default.func.isRequired,isRowLoaded:module.default.func.isRequired,loadMoreRows:module.default.func.isRequired,minimumBatchSize:module.default.number.isRequired,rowCount:module.default.number.isRequired,
threshold:module.default.number.isRequired}}
//# sourceMappingURL=module$node_modules$react_virtualized$dist$commonjs$InfiniteLoader$InfiniteLoader.js.map
