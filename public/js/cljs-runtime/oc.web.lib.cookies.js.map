{"version":3,"sources":["oc/web/lib/cookies.cljs"],"mappings":";AAIA,AAAKA,AAAsB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;AAE3B,AAAKC,AAAmB,AAAAC,AAAmBC;AAE3C,AAAA,AAAiBC,AAAaC;AAA9B,AACE,AAAKC,AAAsB,AAACC,AAAKF;;AAEnC,AAAA,AAAA,AAAAG,AAAeE;AAAf,AAAA,AAAAD,AAAA,AAAA;AAAA,AAAA,AAAAA;AAAA;AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA;;;;;;AAAA,AAAA,AAAA,AAAeD,AACXL,AAAOO;AADX,AAEI,AAAA,AAACC,AAAYR,AAAOO;;;AAFxB,AAAA,AAAA,AAAeF,AAGXL,AAAOO,AAAQE;AAHnB,AAII,AAAA,AAACD,AAAYR,AAAOO,AAAQE;;;AAJhC,AAAA,AAAA,AAAeJ,AAKXL,AAAOO,AAAQE,AAAOC;AAL1B,AAMI,AAACF,AAAYR,AAAOO,AAAQE,AAAOC,AAAOC,AAAqBC;;;AANnE,AAAA,AAAA,AAAeP,AAOXL,AAAOO,AAAQE,AAAOC,AAAOG,AAASC;AAP1C,AAQI,AAAMlB,AAAmB,AAACG,AAAYC,AAAQO,AAAQE,AAAOC,AAAOG,AAASC;;;AARjF,AAAA,AAAA,AAAeT;;AAAf,AAUA;;;AAAA,AAAeU,AAEZf;AAFH,AAGE,AAAMJ,AAAmB,AAACG,AAAYC;;;AAExC,AAAA;;;AAAA,AAAAG,AAAMc;AAAN,AAAA,AAAAD,AAAA,AAAA;AAAA,AAAA,AAAAA;AAAA;AAAA,AAAAC,AAAA,AAAA,AAAA;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;;AAAA,AAAA,AAAAX,AAAA,AAAA,AAAA,AAAA;;;;;AAAA,AAAA,AAAA,AAAMW,AAEFjB;AAFJ,AAGE,AAAA,AAACkB,AAAe,AAAChB,AAAKF;;;AAHxB,AAAA,AAAA,AAAMiB,AAKFjB,AAAOmB;AALX,AAME,AAASvB,AAAmB,AAACG,AAAYC,AAAQmB,AAASR;;;AAN5D,AAAA,AAAA,AAAMM;;AAAN","names":["oc.web.lib.cookies/default-cookie-expire","oc.web.lib.cookies/cookies-static-obj","js/goog.net.Cookies","js/document","oc.web.lib.cookies/cookie-name","c-name","oc.web.local-settings/cookie-name-prefix","cljs.core/name","var_args","G__39149","oc.web.lib.cookies/set-cookie!","js/Error","c-value","oc.web.lib.cookies.set_cookie_BANG_","expiry","c-path","oc.web.local-settings/jwt-cookie-domain","oc.web.local-settings/jwt-cookie-secure","c-domain","c-secure","oc.web.lib.cookies/get-cookie","G__39151","oc.web.lib.cookies/remove-cookie!","oc.web.lib.cookies.remove_cookie_BANG_","opt-path"],"sourcesContent":["(ns oc.web.lib.cookies\n  (:require [goog.net.cookies :as cks]\n            [oc.web.local-settings :as ls]))\n\n(def default-cookie-expire (* 60 60 24 6))\n\n(def cookies-static-obj (goog.net.Cookies. js/document))\n\n(defn- ^:private cookie-name [c-name]\n  (str ls/cookie-name-prefix (name c-name)))\n\n(defn ^:export set-cookie!\n  ([c-name c-value]\n    (set-cookie! c-name c-value -1))\n  ([c-name c-value expiry]\n    (set-cookie! c-name c-value expiry \"/\"))\n  ([c-name c-value expiry c-path]\n    (set-cookie! c-name c-value expiry c-path ls/jwt-cookie-domain ls/jwt-cookie-secure))\n  ([c-name c-value expiry c-path c-domain c-secure]\n    (.set cookies-static-obj (cookie-name c-name) c-value expiry c-path c-domain c-secure)))\n\n(defn ^:export get-cookie\n  \"Get a cookie with the name provided pre-fixed by the environment.\"\n  [c-name]\n  (.get cookies-static-obj (cookie-name c-name)))\n\n(defn remove-cookie!\n  \"Remove a cookie with the name provided pre-fixed by the environment.\"\n  ([c-name]\n  (remove-cookie! (name c-name) \"/\"))\n  \n  ([c-name opt-path]\n  (.remove cookies-static-obj (cookie-name c-name) opt-path ls/jwt-cookie-domain)))"]}