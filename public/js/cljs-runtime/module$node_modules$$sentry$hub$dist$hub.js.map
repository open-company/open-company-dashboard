{
"version":3,
"file":"module$node_modules$$sentry$hub$dist$hub.js",
"lineCount":14,
"mappings":"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",
"sources":["node_modules/@sentry/hub/dist/hub.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$sentry$hub$dist$hub\"] = function(global,require,module,exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar utils_1 = require(\"@sentry/utils\");\nvar scope_1 = require(\"./scope\");\n/**\n * API compatibility version of this hub.\n *\n * WARNING: This number should only be increased when the global interface\n * changes and new methods are introduced.\n *\n * @hidden\n */\nexports.API_VERSION = 3;\n/**\n * Default maximum number of breadcrumbs added to an event. Can be overwritten\n * with {@link Options.maxBreadcrumbs}.\n */\nvar DEFAULT_BREADCRUMBS = 100;\n/**\n * Absolute maximum number of breadcrumbs added to an event. The\n * `maxBreadcrumbs` option cannot be higher than this value.\n */\nvar MAX_BREADCRUMBS = 100;\n/**\n * @inheritDoc\n */\nvar Hub = /** @class */ (function () {\n    /**\n     * Creates a new instance of the hub, will push one {@link Layer} into the\n     * internal stack on creation.\n     *\n     * @param client bound to the hub.\n     * @param scope bound to the hub.\n     * @param version number, higher number means higher priority.\n     */\n    function Hub(client, scope, _version) {\n        if (scope === void 0) { scope = new scope_1.Scope(); }\n        if (_version === void 0) { _version = exports.API_VERSION; }\n        this._version = _version;\n        /** Is a {@link Layer}[] containing the client and scope */\n        this._stack = [];\n        this._stack.push({ client: client, scope: scope });\n        this.bindClient(client);\n    }\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.isOlderThan = function (version) {\n        return this._version < version;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.bindClient = function (client) {\n        var top = this.getStackTop();\n        top.client = client;\n        if (client && client.setupIntegrations) {\n            client.setupIntegrations();\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.pushScope = function () {\n        // We want to clone the content of prev scope\n        var stack = this.getStack();\n        var parentScope = stack.length > 0 ? stack[stack.length - 1].scope : undefined;\n        var scope = scope_1.Scope.clone(parentScope);\n        this.getStack().push({\n            client: this.getClient(),\n            scope: scope,\n        });\n        return scope;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.popScope = function () {\n        return this.getStack().pop() !== undefined;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.withScope = function (callback) {\n        var scope = this.pushScope();\n        try {\n            callback(scope);\n        }\n        finally {\n            this.popScope();\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.getClient = function () {\n        return this.getStackTop().client;\n    };\n    /** Returns the scope of the top stack. */\n    Hub.prototype.getScope = function () {\n        return this.getStackTop().scope;\n    };\n    /** Returns the scope stack for domains or the process. */\n    Hub.prototype.getStack = function () {\n        return this._stack;\n    };\n    /** Returns the topmost scope layer in the order domain > local > process. */\n    Hub.prototype.getStackTop = function () {\n        return this._stack[this._stack.length - 1];\n    };\n    /**\n     * @inheritDoc\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n    Hub.prototype.captureException = function (exception, hint) {\n        var eventId = (this._lastEventId = utils_1.uuid4());\n        var finalHint = hint;\n        // If there's no explicit hint provided, mimick the same thing that would happen\n        // in the minimal itself to create a consistent behavior.\n        // We don't do this in the client, as it's the lowest level API, and doing this,\n        // would prevent user from having full control over direct calls.\n        if (!hint) {\n            var syntheticException = void 0;\n            try {\n                throw new Error('Sentry syntheticException');\n            }\n            catch (exception) {\n                syntheticException = exception;\n            }\n            finalHint = {\n                originalException: exception,\n                syntheticException: syntheticException,\n            };\n        }\n        this._invokeClient('captureException', exception, tslib_1.__assign(tslib_1.__assign({}, finalHint), { event_id: eventId }));\n        return eventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.captureMessage = function (message, level, hint) {\n        var eventId = (this._lastEventId = utils_1.uuid4());\n        var finalHint = hint;\n        // If there's no explicit hint provided, mimick the same thing that would happen\n        // in the minimal itself to create a consistent behavior.\n        // We don't do this in the client, as it's the lowest level API, and doing this,\n        // would prevent user from having full control over direct calls.\n        if (!hint) {\n            var syntheticException = void 0;\n            try {\n                throw new Error(message);\n            }\n            catch (exception) {\n                syntheticException = exception;\n            }\n            finalHint = {\n                originalException: message,\n                syntheticException: syntheticException,\n            };\n        }\n        this._invokeClient('captureMessage', message, level, tslib_1.__assign(tslib_1.__assign({}, finalHint), { event_id: eventId }));\n        return eventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.captureEvent = function (event, hint) {\n        var eventId = (this._lastEventId = utils_1.uuid4());\n        this._invokeClient('captureEvent', event, tslib_1.__assign(tslib_1.__assign({}, hint), { event_id: eventId }));\n        return eventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.lastEventId = function () {\n        return this._lastEventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.addBreadcrumb = function (breadcrumb, hint) {\n        var top = this.getStackTop();\n        if (!top.scope || !top.client) {\n            return;\n        }\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        var _a = (top.client.getOptions && top.client.getOptions()) || {}, _b = _a.beforeBreadcrumb, beforeBreadcrumb = _b === void 0 ? null : _b, _c = _a.maxBreadcrumbs, maxBreadcrumbs = _c === void 0 ? DEFAULT_BREADCRUMBS : _c;\n        if (maxBreadcrumbs <= 0) {\n            return;\n        }\n        var timestamp = utils_1.timestampWithMs();\n        var mergedBreadcrumb = tslib_1.__assign({ timestamp: timestamp }, breadcrumb);\n        var finalBreadcrumb = beforeBreadcrumb\n            ? utils_1.consoleSandbox(function () { return beforeBreadcrumb(mergedBreadcrumb, hint); })\n            : mergedBreadcrumb;\n        if (finalBreadcrumb === null) {\n            return;\n        }\n        top.scope.addBreadcrumb(finalBreadcrumb, Math.min(maxBreadcrumbs, MAX_BREADCRUMBS));\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.setUser = function (user) {\n        var top = this.getStackTop();\n        if (!top.scope) {\n            return;\n        }\n        top.scope.setUser(user);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.setTags = function (tags) {\n        var top = this.getStackTop();\n        if (!top.scope) {\n            return;\n        }\n        top.scope.setTags(tags);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.setExtras = function (extras) {\n        var top = this.getStackTop();\n        if (!top.scope) {\n            return;\n        }\n        top.scope.setExtras(extras);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.setTag = function (key, value) {\n        var top = this.getStackTop();\n        if (!top.scope) {\n            return;\n        }\n        top.scope.setTag(key, value);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.setExtra = function (key, extra) {\n        var top = this.getStackTop();\n        if (!top.scope) {\n            return;\n        }\n        top.scope.setExtra(key, extra);\n    };\n    /**\n     * @inheritDoc\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Hub.prototype.setContext = function (name, context) {\n        var top = this.getStackTop();\n        if (!top.scope) {\n            return;\n        }\n        top.scope.setContext(name, context);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.configureScope = function (callback) {\n        var top = this.getStackTop();\n        if (top.scope && top.client) {\n            callback(top.scope);\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.run = function (callback) {\n        var oldHub = makeMain(this);\n        try {\n            callback(this);\n        }\n        finally {\n            makeMain(oldHub);\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.getIntegration = function (integration) {\n        var client = this.getClient();\n        if (!client) {\n            return null;\n        }\n        try {\n            return client.getIntegration(integration);\n        }\n        catch (_oO) {\n            utils_1.logger.warn(\"Cannot retrieve integration \" + integration.id + \" from the current Hub\");\n            return null;\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.startSpan = function (context) {\n        return this._callExtensionMethod('startSpan', context);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.startTransaction = function (context) {\n        return this._callExtensionMethod('startTransaction', context);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.traceHeaders = function () {\n        return this._callExtensionMethod('traceHeaders');\n    };\n    /**\n     * Internal helper function to call a method on the top client if it exists.\n     *\n     * @param method The method to call on the client.\n     * @param args Arguments to pass to the client function.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Hub.prototype._invokeClient = function (method) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var top = this.getStackTop();\n        if (top && top.client && top.client[method]) {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-explicit-any\n            (_a = top.client)[method].apply(_a, tslib_1.__spread(args, [top.scope]));\n        }\n    };\n    /**\n     * Calls global extension method and binding current instance to the function call\n     */\n    // @ts-ignore Function lacks ending return statement and return type does not include 'undefined'. ts(2366)\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Hub.prototype._callExtensionMethod = function (method) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var carrier = getMainCarrier();\n        var sentry = carrier.__SENTRY__;\n        if (sentry && sentry.extensions && typeof sentry.extensions[method] === 'function') {\n            return sentry.extensions[method].apply(this, args);\n        }\n        utils_1.logger.warn(\"Extension method \" + method + \" couldn't be found, doing nothing.\");\n    };\n    return Hub;\n}());\nexports.Hub = Hub;\n/** Returns the global shim registry. */\nfunction getMainCarrier() {\n    var carrier = utils_1.getGlobalObject();\n    carrier.__SENTRY__ = carrier.__SENTRY__ || {\n        extensions: {},\n        hub: undefined,\n    };\n    return carrier;\n}\nexports.getMainCarrier = getMainCarrier;\n/**\n * Replaces the current main hub with the passed one on the global object\n *\n * @returns The old replaced hub\n */\nfunction makeMain(hub) {\n    var registry = getMainCarrier();\n    var oldHub = getHubFromCarrier(registry);\n    setHubOnCarrier(registry, hub);\n    return oldHub;\n}\nexports.makeMain = makeMain;\n/**\n * Returns the default hub instance.\n *\n * If a hub is already registered in the global carrier but this module\n * contains a more recent version, it replaces the registered version.\n * Otherwise, the currently registered hub will be returned.\n */\nfunction getCurrentHub() {\n    // Get main carrier (global for every environment)\n    var registry = getMainCarrier();\n    // If there's no hub, or its an old API, assign a new one\n    if (!hasHubOnCarrier(registry) || getHubFromCarrier(registry).isOlderThan(exports.API_VERSION)) {\n        setHubOnCarrier(registry, new Hub());\n    }\n    // Prefer domains over global if they are there (applicable only to Node environment)\n    if (utils_1.isNodeEnv()) {\n        return getHubFromActiveDomain(registry);\n    }\n    // Return hub that lives on a global object\n    return getHubFromCarrier(registry);\n}\nexports.getCurrentHub = getCurrentHub;\n/**\n * Try to read the hub from an active domain, and fallback to the registry if one doesn't exist\n * @returns discovered hub\n */\nfunction getHubFromActiveDomain(registry) {\n    try {\n        var property = 'domain';\n        var carrier = getMainCarrier();\n        var sentry = carrier.__SENTRY__;\n        if (!sentry || !sentry.extensions || !sentry.extensions[property]) {\n            return getHubFromCarrier(registry);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var domain = sentry.extensions[property];\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        var activeDomain = domain.active;\n        // If there's no active domain, just return global hub\n        if (!activeDomain) {\n            return getHubFromCarrier(registry);\n        }\n        // If there's no hub on current domain, or it's an old API, assign a new one\n        if (!hasHubOnCarrier(activeDomain) || getHubFromCarrier(activeDomain).isOlderThan(exports.API_VERSION)) {\n            var registryHubTopStack = getHubFromCarrier(registry).getStackTop();\n            setHubOnCarrier(activeDomain, new Hub(registryHubTopStack.client, scope_1.Scope.clone(registryHubTopStack.scope)));\n        }\n        // Return hub that lives on a domain\n        return getHubFromCarrier(activeDomain);\n    }\n    catch (_Oo) {\n        // Return hub that lives on a global object\n        return getHubFromCarrier(registry);\n    }\n}\n/**\n * This will tell whether a carrier has a hub on it or not\n * @param carrier object\n */\nfunction hasHubOnCarrier(carrier) {\n    if (carrier && carrier.__SENTRY__ && carrier.__SENTRY__.hub) {\n        return true;\n    }\n    return false;\n}\n/**\n * This will create a new {@link Hub} and add to the passed object on\n * __SENTRY__.hub.\n * @param carrier object\n * @hidden\n */\nfunction getHubFromCarrier(carrier) {\n    if (carrier && carrier.__SENTRY__ && carrier.__SENTRY__.hub) {\n        return carrier.__SENTRY__.hub;\n    }\n    carrier.__SENTRY__ = carrier.__SENTRY__ || {};\n    carrier.__SENTRY__.hub = new Hub();\n    return carrier.__SENTRY__.hub;\n}\nexports.getHubFromCarrier = getHubFromCarrier;\n/**\n * This will set passed {@link Hub} on the passed object's __SENTRY__.hub attribute\n * @param carrier object\n * @param hub Hub\n */\nfunction setHubOnCarrier(carrier, hub) {\n    if (!carrier) {\n        return false;\n    }\n    carrier.__SENTRY__ = carrier.__SENTRY__ || {};\n    carrier.__SENTRY__.hub = hub;\n    return true;\n}\nexports.setHubOnCarrier = setHubOnCarrier;\n//# sourceMappingURL=hub.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","getMainCarrier","carrier","utils_1","getGlobalObject","__SENTRY__","extensions","hub","undefined","makeMain","registry","oldHub","getHubFromCarrier","setHubOnCarrier","getHubFromActiveDomain","sentry","property","activeDomain","active","isOlderThan","API_VERSION","registryHubTopStack","getStackTop","Hub","client","scope_1","Scope","clone","scope","_Oo","Object","defineProperty","value","tslib_1","_version","_stack","push","bindClient","prototype","Hub.prototype.isOlderThan","version","Hub.prototype.bindClient","top","setupIntegrations","pushScope","Hub.prototype.pushScope","stack","getStack","parentScope","length","getClient","popScope","Hub.prototype.popScope","pop","withScope","Hub.prototype.withScope","callback","Hub.prototype.getClient","getScope","Hub.prototype.getScope","Hub.prototype.getStack","Hub.prototype.getStackTop","captureException","Hub.prototype.captureException","exception","hint","eventId","_lastEventId","uuid4","finalHint","Error","syntheticException","originalException","_invokeClient","__assign","event_id","captureMessage","Hub.prototype.captureMessage","message","level","captureEvent","Hub.prototype.captureEvent","event","lastEventId","Hub.prototype.lastEventId","addBreadcrumb","Hub.prototype.addBreadcrumb","breadcrumb","_a","getOptions","_b","beforeBreadcrumb","_c","maxBreadcrumbs","DEFAULT_BREADCRUMBS","timestamp","timestampWithMs","mergedBreadcrumb","finalBreadcrumb","consoleSandbox","Math","min","MAX_BREADCRUMBS","setUser","Hub.prototype.setUser","user","setTags","Hub.prototype.setTags","tags","setExtras","Hub.prototype.setExtras","extras","setTag","Hub.prototype.setTag","key","setExtra","Hub.prototype.setExtra","extra","setContext","Hub.prototype.setContext","name","context","configureScope","Hub.prototype.configureScope","run","Hub.prototype.run","getIntegration","Hub.prototype.getIntegration","integration","_oO","logger","warn","id","startSpan","Hub.prototype.startSpan","_callExtensionMethod","startTransaction","Hub.prototype.startTransaction","traceHeaders","Hub.prototype.traceHeaders","Hub.prototype._invokeClient","method","args","_i","arguments","apply","__spread","Hub.prototype._callExtensionMethod","getCurrentHub","isNodeEnv"]
}
