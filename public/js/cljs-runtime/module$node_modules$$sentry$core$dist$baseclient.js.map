{
"version":3,
"file":"module$node_modules$$sentry$core$dist$baseclient.js",
"lineCount":15,
"mappings":"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",
"sources":["node_modules/@sentry/core/dist/baseclient.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$sentry$core$dist$baseclient\"] = function(global,require,module,exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\n/* eslint-disable max-lines */\nvar hub_1 = require(\"@sentry/hub\");\nvar utils_1 = require(\"@sentry/utils\");\nvar integration_1 = require(\"./integration\");\n/**\n * Base implementation for all JavaScript SDK clients.\n *\n * Call the constructor with the corresponding backend constructor and options\n * specific to the client subclass. To access these options later, use\n * {@link Client.getOptions}. Also, the Backend instance is available via\n * {@link Client.getBackend}.\n *\n * If a Dsn is specified in the options, it will be parsed and stored. Use\n * {@link Client.getDsn} to retrieve the Dsn at any moment. In case the Dsn is\n * invalid, the constructor will throw a {@link SentryException}. Note that\n * without a valid Dsn, the SDK will not send any events to Sentry.\n *\n * Before sending an event via the backend, it is passed through\n * {@link BaseClient.prepareEvent} to add SDK information and scope data\n * (breadcrumbs and context). To add more custom information, override this\n * method and extend the resulting prepared event.\n *\n * To issue automatically created events (e.g. via instrumentation), use\n * {@link Client.captureEvent}. It will prepare the event and pass it through\n * the callback lifecycle. To issue auto-breadcrumbs, use\n * {@link Client.addBreadcrumb}.\n *\n * @example\n * class NodeClient extends BaseClient<NodeBackend, NodeOptions> {\n *   public constructor(options: NodeOptions) {\n *     super(NodeBackend, options);\n *   }\n *\n *   // ...\n * }\n */\nvar BaseClient = /** @class */ (function () {\n    /**\n     * Initializes this client instance.\n     *\n     * @param backendClass A constructor function to create the backend.\n     * @param options Options for the client.\n     */\n    function BaseClient(backendClass, options) {\n        /** Array of used integrations. */\n        this._integrations = {};\n        /** Is the client still processing a call? */\n        this._processing = false;\n        this._backend = new backendClass(options);\n        this._options = options;\n        if (options.dsn) {\n            this._dsn = new utils_1.Dsn(options.dsn);\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n    BaseClient.prototype.captureException = function (exception, hint, scope) {\n        var _this = this;\n        var eventId = hint && hint.event_id;\n        this._processing = true;\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        this._getBackend()\n            .eventFromException(exception, hint)\n            .then(function (event) {\n            eventId = _this.captureEvent(event, hint, scope);\n        });\n        return eventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.captureMessage = function (message, level, hint, scope) {\n        var _this = this;\n        var eventId = hint && hint.event_id;\n        this._processing = true;\n        var promisedEvent = utils_1.isPrimitive(message)\n            ? this._getBackend().eventFromMessage(\"\" + message, level, hint)\n            : this._getBackend().eventFromException(message, hint);\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        promisedEvent.then(function (event) {\n            eventId = _this.captureEvent(event, hint, scope);\n        });\n        return eventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.captureEvent = function (event, hint, scope) {\n        var _this = this;\n        var eventId = hint && hint.event_id;\n        this._processing = true;\n        this._processEvent(event, hint, scope)\n            .then(function (finalEvent) {\n            // We need to check for finalEvent in case beforeSend returned null\n            eventId = finalEvent && finalEvent.event_id;\n            _this._processing = false;\n        })\n            .then(null, function (reason) {\n            utils_1.logger.error(reason);\n            _this._processing = false;\n        });\n        return eventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.getDsn = function () {\n        return this._dsn;\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.getOptions = function () {\n        return this._options;\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.flush = function (timeout) {\n        var _this = this;\n        return this._isClientProcessing(timeout).then(function (status) {\n            clearInterval(status.interval);\n            return _this._getBackend()\n                .getTransport()\n                .close(timeout)\n                .then(function (transportFlushed) { return status.ready && transportFlushed; });\n        });\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.close = function (timeout) {\n        var _this = this;\n        return this.flush(timeout).then(function (result) {\n            _this.getOptions().enabled = false;\n            return result;\n        });\n    };\n    /**\n     * Sets up the integrations\n     */\n    BaseClient.prototype.setupIntegrations = function () {\n        if (this._isEnabled()) {\n            this._integrations = integration_1.setupIntegrations(this._options);\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.getIntegration = function (integration) {\n        try {\n            return this._integrations[integration.id] || null;\n        }\n        catch (_oO) {\n            utils_1.logger.warn(\"Cannot retrieve integration \" + integration.id + \" from the current Client\");\n            return null;\n        }\n    };\n    /** Waits for the client to be done with processing. */\n    BaseClient.prototype._isClientProcessing = function (timeout) {\n        var _this = this;\n        return new utils_1.SyncPromise(function (resolve) {\n            var ticked = 0;\n            var tick = 1;\n            var interval = 0;\n            clearInterval(interval);\n            interval = setInterval(function () {\n                if (!_this._processing) {\n                    resolve({\n                        interval: interval,\n                        ready: true,\n                    });\n                }\n                else {\n                    ticked += tick;\n                    if (timeout && ticked >= timeout) {\n                        resolve({\n                            interval: interval,\n                            ready: false,\n                        });\n                    }\n                }\n            }, tick);\n        });\n    };\n    /** Returns the current backend. */\n    BaseClient.prototype._getBackend = function () {\n        return this._backend;\n    };\n    /** Determines whether this SDK is enabled and a valid Dsn is present. */\n    BaseClient.prototype._isEnabled = function () {\n        return this.getOptions().enabled !== false && this._dsn !== undefined;\n    };\n    /**\n     * Adds common information to events.\n     *\n     * The information includes release and environment from `options`,\n     * breadcrumbs and context (extra, tags and user) from the scope.\n     *\n     * Information that is already present in the event is never overwritten. For\n     * nested objects, such as the context, keys are merged.\n     *\n     * @param event The original event.\n     * @param hint May contain additional information about the original exception.\n     * @param scope A scope containing event metadata.\n     * @returns A new event with more information.\n     */\n    BaseClient.prototype._prepareEvent = function (event, scope, hint) {\n        var _this = this;\n        var _a = this.getOptions().normalizeDepth, normalizeDepth = _a === void 0 ? 3 : _a;\n        var prepared = tslib_1.__assign(tslib_1.__assign({}, event), { event_id: event.event_id || (hint && hint.event_id ? hint.event_id : utils_1.uuid4()), timestamp: event.timestamp || utils_1.timestampWithMs() });\n        this._applyClientOptions(prepared);\n        this._applyIntegrationsMetadata(prepared);\n        // If we have scope given to us, use it as the base for further modifications.\n        // This allows us to prevent unnecessary copying of data if `captureContext` is not provided.\n        var finalScope = scope;\n        if (hint && hint.captureContext) {\n            finalScope = hub_1.Scope.clone(finalScope).update(hint.captureContext);\n        }\n        // We prepare the result here with a resolved Event.\n        var result = utils_1.SyncPromise.resolve(prepared);\n        // This should be the last thing called, since we want that\n        // {@link Hub.addEventProcessor} gets the finished prepared event.\n        if (finalScope) {\n            // In case we have a hub we reassign it.\n            result = finalScope.applyToEvent(prepared, hint);\n        }\n        return result.then(function (evt) {\n            if (typeof normalizeDepth === 'number' && normalizeDepth > 0) {\n                return _this._normalizeEvent(evt, normalizeDepth);\n            }\n            return evt;\n        });\n    };\n    /**\n     * Applies `normalize` function on necessary `Event` attributes to make them safe for serialization.\n     * Normalized keys:\n     * - `breadcrumbs.data`\n     * - `user`\n     * - `contexts`\n     * - `extra`\n     * @param event Event\n     * @returns Normalized event\n     */\n    BaseClient.prototype._normalizeEvent = function (event, depth) {\n        if (!event) {\n            return null;\n        }\n        var normalized = tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, event), (event.breadcrumbs && {\n            breadcrumbs: event.breadcrumbs.map(function (b) { return (tslib_1.__assign(tslib_1.__assign({}, b), (b.data && {\n                data: utils_1.normalize(b.data, depth),\n            }))); }),\n        })), (event.user && {\n            user: utils_1.normalize(event.user, depth),\n        })), (event.contexts && {\n            contexts: utils_1.normalize(event.contexts, depth),\n        })), (event.extra && {\n            extra: utils_1.normalize(event.extra, depth),\n        }));\n        // event.contexts.trace stores information about a Transaction. Similarly,\n        // event.spans[] stores information about child Spans. Given that a\n        // Transaction is conceptually a Span, normalization should apply to both\n        // Transactions and Spans consistently.\n        // For now the decision is to skip normalization of Transactions and Spans,\n        // so this block overwrites the normalized event to add back the original\n        // Transaction information prior to normalization.\n        if (event.contexts && event.contexts.trace) {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            normalized.contexts.trace = event.contexts.trace;\n        }\n        return normalized;\n    };\n    /**\n     *  Enhances event using the client configuration.\n     *  It takes care of all \"static\" values like environment, release and `dist`,\n     *  as well as truncating overly long values.\n     * @param event event instance to be enhanced\n     */\n    BaseClient.prototype._applyClientOptions = function (event) {\n        var _a = this.getOptions(), environment = _a.environment, release = _a.release, dist = _a.dist, _b = _a.maxValueLength, maxValueLength = _b === void 0 ? 250 : _b;\n        if (event.environment === undefined && environment !== undefined) {\n            event.environment = environment;\n        }\n        if (event.release === undefined && release !== undefined) {\n            event.release = release;\n        }\n        if (event.dist === undefined && dist !== undefined) {\n            event.dist = dist;\n        }\n        if (event.message) {\n            event.message = utils_1.truncate(event.message, maxValueLength);\n        }\n        var exception = event.exception && event.exception.values && event.exception.values[0];\n        if (exception && exception.value) {\n            exception.value = utils_1.truncate(exception.value, maxValueLength);\n        }\n        var request = event.request;\n        if (request && request.url) {\n            request.url = utils_1.truncate(request.url, maxValueLength);\n        }\n    };\n    /**\n     * This function adds all used integrations to the SDK info in the event.\n     * @param sdkInfo The sdkInfo of the event that will be filled with all integrations.\n     */\n    BaseClient.prototype._applyIntegrationsMetadata = function (event) {\n        var sdkInfo = event.sdk;\n        var integrationsArray = Object.keys(this._integrations);\n        if (sdkInfo && integrationsArray.length > 0) {\n            sdkInfo.integrations = integrationsArray;\n        }\n    };\n    /**\n     * Tells the backend to send this event\n     * @param event The Sentry event to send\n     */\n    BaseClient.prototype._sendEvent = function (event) {\n        this._getBackend().sendEvent(event);\n    };\n    /**\n     * Processes an event (either error or message) and sends it to Sentry.\n     *\n     * This also adds breadcrumbs and context information to the event. However,\n     * platform specific meta data (such as the User's IP address) must be added\n     * by the SDK implementor.\n     *\n     *\n     * @param event The event to send to Sentry.\n     * @param hint May contain additional information about the original exception.\n     * @param scope A scope containing event metadata.\n     * @returns A SyncPromise that resolves with the event or rejects in case event was/will not be send.\n     */\n    BaseClient.prototype._processEvent = function (event, hint, scope) {\n        var _this = this;\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        var _a = this.getOptions(), beforeSend = _a.beforeSend, sampleRate = _a.sampleRate;\n        if (!this._isEnabled()) {\n            return utils_1.SyncPromise.reject('SDK not enabled, will not send event.');\n        }\n        var isTransaction = event.type === 'transaction';\n        // 1.0 === 100% events are sent\n        // 0.0 === 0% events are sent\n        // Sampling for transaction happens somewhere else\n        if (!isTransaction && typeof sampleRate === 'number' && Math.random() > sampleRate) {\n            return utils_1.SyncPromise.reject('This event has been sampled, will not send event.');\n        }\n        return new utils_1.SyncPromise(function (resolve, reject) {\n            _this._prepareEvent(event, scope, hint)\n                .then(function (prepared) {\n                if (prepared === null) {\n                    reject('An event processor returned null, will not send event.');\n                    return;\n                }\n                var finalEvent = prepared;\n                var isInternalException = hint && hint.data && hint.data.__sentry__ === true;\n                // We skip beforeSend in case of transactions\n                if (isInternalException || !beforeSend || isTransaction) {\n                    _this._sendEvent(finalEvent);\n                    resolve(finalEvent);\n                    return;\n                }\n                var beforeSendResult = beforeSend(prepared, hint);\n                if (typeof beforeSendResult === 'undefined') {\n                    utils_1.logger.error('`beforeSend` method has to return `null` or a valid event.');\n                }\n                else if (utils_1.isThenable(beforeSendResult)) {\n                    _this._handleAsyncBeforeSend(beforeSendResult, resolve, reject);\n                }\n                else {\n                    finalEvent = beforeSendResult;\n                    if (finalEvent === null) {\n                        utils_1.logger.log('`beforeSend` returned `null`, will not send event.');\n                        resolve(null);\n                        return;\n                    }\n                    // From here on we are really async\n                    _this._sendEvent(finalEvent);\n                    resolve(finalEvent);\n                }\n            })\n                .then(null, function (reason) {\n                _this.captureException(reason, {\n                    data: {\n                        __sentry__: true,\n                    },\n                    originalException: reason,\n                });\n                reject(\"Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\\nReason: \" + reason);\n            });\n        });\n    };\n    /**\n     * Resolves before send Promise and calls resolve/reject on parent SyncPromise.\n     */\n    BaseClient.prototype._handleAsyncBeforeSend = function (beforeSend, resolve, reject) {\n        var _this = this;\n        beforeSend\n            .then(function (processedEvent) {\n            if (processedEvent === null) {\n                reject('`beforeSend` returned `null`, will not send event.');\n                return;\n            }\n            // From here on we are really async\n            _this._sendEvent(processedEvent);\n            resolve(processedEvent);\n        })\n            .then(null, function (e) {\n            reject(\"beforeSend rejected with \" + e);\n        });\n    };\n    return BaseClient;\n}());\nexports.BaseClient = BaseClient;\n//# sourceMappingURL=baseclient.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","tslib_1","hub_1","utils_1","integration_1","BaseClient","backendClass","options","_integrations","_processing","_backend","_options","dsn","_dsn","Dsn","prototype","captureException","BaseClient.prototype.captureException","exception","hint","scope","_this","eventId","event_id","_getBackend","eventFromException","then","event","captureEvent","captureMessage","BaseClient.prototype.captureMessage","message","level","isPrimitive","promisedEvent","eventFromMessage","BaseClient.prototype.captureEvent","_processEvent","finalEvent","reason","logger","error","getDsn","BaseClient.prototype.getDsn","getOptions","BaseClient.prototype.getOptions","flush","BaseClient.prototype.flush","timeout","_isClientProcessing","status","clearInterval","interval","getTransport","close","transportFlushed","ready","BaseClient.prototype.close","result","enabled","setupIntegrations","BaseClient.prototype.setupIntegrations","_isEnabled","getIntegration","BaseClient.prototype.getIntegration","integration","id","_oO","warn","BaseClient.prototype._isClientProcessing","SyncPromise","resolve","ticked","setInterval","tick","BaseClient.prototype._getBackend","BaseClient.prototype._isEnabled","undefined","_prepareEvent","BaseClient.prototype._prepareEvent","_a","normalizeDepth","prepared","__assign","uuid4","timestamp","timestampWithMs","_applyClientOptions","_applyIntegrationsMetadata","captureContext","finalScope","Scope","clone","update","applyToEvent","evt","_normalizeEvent","BaseClient.prototype._normalizeEvent","depth","normalized","breadcrumbs","map","b","data","normalize","user","contexts","extra","trace","BaseClient.prototype._applyClientOptions","environment","release","dist","_b","maxValueLength","truncate","values","request","url","BaseClient.prototype._applyIntegrationsMetadata","sdkInfo","sdk","integrationsArray","keys","length","integrations","_sendEvent","BaseClient.prototype._sendEvent","sendEvent","BaseClient.prototype._processEvent","beforeSend","sampleRate","reject","isTransaction","type","Math","random","__sentry__","beforeSendResult","isThenable","_handleAsyncBeforeSend","log","originalException","BaseClient.prototype._handleAsyncBeforeSend","processedEvent","e"]
}
