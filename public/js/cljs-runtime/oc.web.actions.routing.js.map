{"version":3,"sources":["oc/web/actions/routing.cljs"],"mappings":";AASA,AAAA,AAAMA;AAAN,AAEE,AAAA,AAAA,AAAA,AAACC,AAAiC,AAACC;;AAErC,AAAA,AAAA,AAAAC,AAAME;AAAN,AAAA,AAAAD,AAAA,AAAA;AAAA,AAAA,AAAAA;AAAA;AAAA,AAAAC;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA;;;;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA;;;;;AAAA,AAAA,AAAA,AAAMD;AAAN,AACM,AAAA,AAACE;;;AADP,AAAA,AAAA,AAAMF,AAEFG;AAFJ,AAGE,AAAI,AAAAC,AAAI,AAACC;AAAL,AAAA,AAAAD;AAAAA;;AAAA,AAAAA,AACI,AAACE;AADL,AAAA,AAAAF;AAAAA;;AAEID;;;;AACN,AAACI;;AACD,AAAA,AAAA,AAACX;;;;AAPL,AAAA,AAAA,AAAMI;;AAAN,AASA,AAAA,AAAMQ,AAAsBC;AAA5B,AACE,AAAA,AAAA,AAACb,AAA4B,AAACc,AAAsB,AAAA,AAAOD;;AAC3D,AAACE,AAAY,AAACC,AAAwB,AAAA,AAAOH","names":["oc.web.actions.routing/post-routing","oc.web.dispatcher/dispatch!","oc.web.dispatcher.change_data","var_args","G__42393","oc.web.actions.routing/maybe-404","js/Error","oc.web.actions.routing.maybe_404","force-404?","or__4126__auto__","oc.web.lib.jwt/jwt","oc.web.lib.jwt/id-token","oc.web.router/redirect-404!","oc.web.actions.routing/switch-org-dashboard","org","oc.web.dispatcher.current_org_slug","oc.web.router/nav!","oc.web.urls.default_landing"],"sourcesContent":["(ns oc.web.actions.routing\n  (:require [oc.web.urls :as oc-urls]\n            [oc.web.lib.jwt :as jwt]\n            [oc.web.router :as router]\n            [oc.web.dispatcher :as dis]\n            [oc.web.lib.utils :as utils]\n            [oc.shared.useragent :as ua]\n            [oc.web.actions.cmail :as cmail-actions]))\n\n(defn post-routing []\n  ;; Re-dispatch the current change data\n  (dis/dispatch! [:container/status (dis/change-data) true]))\n\n(defn maybe-404\n  ([] (maybe-404 false))\n  ([force-404?]\n  (if (or (jwt/jwt)\n          (jwt/id-token)\n          force-404?)\n    (router/redirect-404!)\n    (dis/dispatch! [:show-login-wall]))))\n\n(defn switch-org-dashboard [org]\n  (dis/dispatch! [:org-nav-out (dis/current-org-slug) (:slug org)])\n  (router/nav! (oc-urls/default-landing (:slug org))))"]}