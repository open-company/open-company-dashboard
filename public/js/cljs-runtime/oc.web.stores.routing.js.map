{"version":3,"sources":["oc/web/stores/routing.cljs"],"mappings":";AAIA,AAAA,AAAOA,AAAaC;AAApB,AACE,AAAA,AAAA,AAAAC,AAACC,AAAOF;AAAR,AAA0B,AAACG,AAAI,AAACC,AAAIC,AAAQ,AAAAJ,AAACK,AAAOC;;;AAEtD,AAAAC,AAAA,AAAA,AAAAC,AACGG;AADH,AAAA,AAAAF,AAAAD;AAAA,AAAAE,AAAAD,AAAA,AAAA,AACOG;AADP,AAAAF,AAAAD,AAAA,AAAA,AACSI;AADT,AAEE,AAACC,AAAMH,AAAGI,AAAsB,AAACjB,AAAYe;;AAE/C,AAAAN,AAAA,AAAA,AAAAS,AACGL;AADH,AAAA,AAAAM,AAAAD;AAAA,AAAAN,AAAAO,AAAA,AAAA,AACOL;AADP,AAAAF,AAAAO,AAAA,AAAA,AACSJ;AADT,AAEE,AAAA,AAAA,AAACC,AAAMH;;AAET,AAAAJ,AAAA,AAAA,AAAAW,AACGP;AADH,AAAA,AAAAQ,AAAAD;AAAA,AAAAR,AAAAS,AAAA,AAAA,AACOP;AADP,AAAAF,AAAAS,AAAA,AAAA,AACSC;AADT,AAAAV,AAAAS,AAAA,AAAA,AACWE;AADX,AAEE,AAAA,AAACC,AAASX,AAAII,AAAsBK,AAAGC;;AAEzC,AAAAd,AAAA,AAAA,AAAAgB,AACGZ;AADH,AAAA,AAAAa,AAAAD;AAAA,AAAAb,AAAAc,AAAA,AAAA,AACOZ;AADP,AAAAF,AAAAc,AAAA,AAAA,AACSC;AADT,AAAAf,AAAAc,AAAA,AAAA,AACkBE;AADlB,AAEMf,AACH,AAAA,AAAA,AAACG,AACD,AAAA,AAAA,AAACA,AACD,AAACa,AAAO,AAACC,AAAMC,AACf,AAACF,AAAO,AAACC,AAAME","names":["oc.web.stores.routing/clean-route","route-map","p1__38473#","cljs.core.update","cljs.core/set","cljs.core.map","cljs.core/keyword","cljs.core.remove","cljs.core/nil?","oc.web.dispatcher/action","p__38477","vec__38478","cljs.core.nth","db","_","route","cljs.core.assoc","oc.web.dispatcher/router-key","p__38481","vec__38482","p__38490","vec__38491","k","v","cljs.core/assoc-in","p__38496","vec__38499","from-org","to-org","cljs.core.dissoc","cljs.core/first","oc.web.dispatcher/cmail-state-key","oc.web.dispatcher/cmail-data-key"],"sourcesContent":["(ns oc.web.stores.routing\n  (:require [oc.web.lib.utils :as utils]\n            [oc.web.dispatcher :as dispatcher]))\n\n(defn- clean-route [route-map]\n  (update route-map :route #(set (map keyword (remove nil? %)))))\n\n(defmethod dispatcher/action :routing\n  [db [_ route]]\n  (assoc db dispatcher/router-key (clean-route route)))\n\n(defmethod dispatcher/action :show-login-wall\n  [db [_ route]]\n  (assoc db :force-login-wall true))\n\n(defmethod dispatcher/action :route/rewrite\n  [db [_ k v]]\n  (assoc-in db [dispatcher/router-key k] v))\n\n(defmethod dispatcher/action :org-nav-out\n  [db [_ from-org to-org]]\n  (-> db\n   (assoc :orgs-dropdown-visible false)\n   (assoc :mobile-navigation-sidebar false)\n   (dissoc (first dispatcher/cmail-state-key))\n   (dissoc (first dispatcher/cmail-data-key))))"]}