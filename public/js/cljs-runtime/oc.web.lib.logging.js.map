{"version":3,"sources":["oc/web/lib/logging.cljs"],"mappings":";AAIA,AAAKA,AAAiB,AAAA,AAACC;AAEvB,AAAA,AAAMC,AAAmBC;AAAzB,AACE,AAAMC,AAAS,AAACC,AAAQ,AAACC,AAAQH;AAAjC,AACE,AAAM,AAAAI,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAA,AAAAA,AAAAA,AAAoDH,AAAAA;;AAA1D,AACE,AAAAI,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAC,AAAA;AAAA,AAAA,AAAA,AAA0BN;AAA1B,AAAA,AAAA;;AACA,AAACO,AAAOX,AAAiBI;;AACzB,AAAA,AAAA,AAACQ,AAA6BR;;AAHhC;;;AAKJ,AAAA,AAAA,AAAAS,AAAMM;AAAN,AAAA,AAAAL,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAA;AAAA,AAAA,AAAAC,AAAA;;AAAA,AAAA,AAAA,AAAAA,AAAAD;AAAA,AAAA,AAAAD,AAAA,AAAA,AAAAE;;AAAA,AAAA,AAAAA,AAAA;;;;AAAA;;;;AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAH,AAAA,AAAA,AAAAI,AAAA,AAAAJ,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAK,AAAAF;;;AAAA,AAAA,AAAA,AAAA,AAAME,AAAOI;AAAb,AACE,AAAM,AAAA,AAAAC,AAAA,AAACC,AAAGzB;AAAV,AACE,AAAC0B,AAAMC,AAAeJ;;AADxB;;;;AADF,AAAA,AAAA,AAAMJ;;AAAN;AAAA,AAAA,AAAA,AAAAC,AAAMD;AAAN,AAAA,AAAAE,AAAA;AAAA,AAAA,AAAAA,AAAA,AAAAC,AAAAF;;;AAAA,AAIA,AAAM,AAAuBQ,AAAW1B","names":["oc.web.lib.logging/carrot-log-level","cljs.core.atom","oc.web.lib.logging/config-log-level!","level","level-kw","cljs.core.keyword","cuerdas.core/lower","fexpr__51338","taoensso.timbre._log_BANG_","taoensso.timbre/*config*","cljs.core/Delay","cljs.core/reset!","taoensso.timbre/merge-config!","var_args","args__4742__auto__","len__4736__auto__","i__4737__auto__","argseq__4743__auto__","cljs.core/IndexedSeq","oc.web.lib.logging/dbg","seq51339","self__4724__auto__","cljs.core/seq","args","cljs.core/deref","cljs.core._EQ_","cljs.core.apply","js/console.log","js/window"],"sourcesContent":["(ns oc.web.lib.logging\n  (:require [taoensso.timbre :as timbre]\n            [cuerdas.core :as s]))\n\n(def carrot-log-level (atom nil))\n\n(defn config-log-level! [level]\n  (let [level-kw (keyword (s/lower level))]\n    (when (#{:trace :debug :info :warn :error :fatal :report} level-kw)\n      (timbre/info \"Log level:\" level-kw)\n      (reset! carrot-log-level level-kw)\n      (timbre/merge-config! {:level level-kw}))))\n\n(defn dbg [& args]\n  (when (= @carrot-log-level :debug)\n    (apply js/console.log args)))\n\n(set! (.-OCWebConfigLogLevel js/window) config-log-level!)"]}