{"version":3,"sources":["oc/web/components/ui/post_authorship.cljs"],"mappings":"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","names":["rum.core/build-defc","p__39715","map__39716","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply","cljs.core/hash-map","map__39717","cljs.core.get","js/React.createElement","attrs39720","cljs.core/map?","sablono.interpreter/attributes","sablono.normalize.merge_with_class","sablono.interpreter/interpret","p1__39713#","sablono.util/join-classes","oc.web.components.ui.post-authorship/post-authorship","rum.core/static","publisher","author","status","board-name","board-slug","board-access","board-uuid","activity-data","user-avatar?","user-hover?","board-hover?","leave-delay?","activity-board?","current-user-id","hide-last-name?","published?","cljs.core._EQ_","author-data","cljs.core/sequential?","cljs.core/first","show-board?","and__4115__auto__","G__39721","oc.web.components.ui.info-hover-views/user-info-hover","oc.web.components.ui.user-avatar/user-avatar-image","oc.web.lib.utils/hide-class","oc.web.urls.contributions","oc.web.lib.utils/event-stop","oc.web.actions.nav_sidebar.nav_to_author_BANG_","p1__39714#","oc.web.urls.board","oc.web.actions.nav_sidebar.nav_to_url_BANG_"],"sourcesContent":["(ns oc.web.components.ui.post-authorship\n  (:require [rum.core :as rum]\n            [oc.web.urls :as oc-urls]\n            [oc.web.lib.utils :as utils]\n            [oc.web.actions.nav-sidebar :as nav-actions]\n            [oc.web.components.ui.user-avatar :refer (user-avatar-image)]\n            [oc.web.components.ui.info-hover-views :refer (user-info-hover)])); board-info-hover)]))\n\n(rum/defc post-authorship < rum/static\n  [{{:keys [publisher author status board-name board-slug board-access board-uuid] :as activity-data} :activity-data\n    user-avatar? :user-avatar? user-hover? :user-hover? board-hover? :board-hover? leave-delay? :leave-delay?\n    activity-board? :activity-board? current-user-id :current-user-id hide-last-name? :hide-last-name?}]\n  (let [published? (= status \"published\")\n        author-data (cond\n                      published?\n                      publisher\n                      (sequential? author)\n                      (first author)\n                      (map? author)\n                      author\n                      :else\n                      {:name \"Anonymous\"})\n        show-board? (and activity-board? board-slug)]\n    [:div.post-authorship\n      [:div.user-hover-container\n        (when user-hover?\n          (user-info-hover {:user-data author-data :current-user-id current-user-id :hide-last-name? hide-last-name? :leave-delay? leave-delay?}))\n        (when user-avatar?\n          (user-avatar-image author-data))\n        [:a.publisher-name\n          {:class utils/hide-class\n           :href (when (:user-id author-data)\n                   (oc-urls/contributions (:user-id author-data)))\n           :on-click #(when (:user-id author-data)\n                        (utils/event-stop %)\n                        (nav-actions/nav-to-author! % (:user-id author-data) (oc-urls/contributions (:user-id author-data))))}\n          (:name author-data)]]\n      (when show-board?\n        [:span.in \"in \"])\n      (when show-board?\n        [:div.board-hover-container\n          ; (when board-hover?\n          ;   (board-info-hover {:activity-data activity-data}))\n          [:a.board-name\n            {:class utils/hide-class\n             :href (oc-urls/board board-slug)\n             :on-click #(do\n                          (utils/event-stop %)\n                          (nav-actions/nav-to-url! % (:board-slug activity-data) (oc-urls/board (:board-slug activity-data))))}\n            (str board-name\n                 (when (= board-access \"private\")\n                   \" (private)\")\n                 (when (= board-access \"public\")\n                   \" (public)\"))]])]))"]}