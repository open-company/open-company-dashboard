div.refresh-button-container.replies-refresh-button-container {
  position: fixed;
  bottom: 24px;
  width: #{$board_container_width}px;
  height: 40px;

  @include mobile() {
    width: 100vw;
  }
}

div.replies-list-empty {
  margin-top: 100px;

  div.all-caught-up {
    div.all-caught-up-inner {
      width: 260px;
    }

    @include mobile() {
      display: block !important;
      margin-top: 100px;
    }
  }
}

div.reply-item {
  margin: 0;
  border-top: 1px solid transparent;
  border-right: 1px solid var(--foc-divider-line-color);
  border-bottom: 1px solid transparent;
  border-left: 1px solid var(--foc-divider-line-color);
  padding: 16px 0;
  background-color: var(--foc-background-color);
  overflow: visible;
  cursor: pointer;
  position: relative;

  @include big_web() {
    &:hover, &.open-item:hover, &.close-item:hover {
      background-color: var(--foc-hover-color);
      border-top: 1px solid var(--foc-hover-border-color);
      border-right: 1px solid var(--foc-hover-border-color);
      border-bottom: 1px solid var(--foc-hover-border-color);
      border-left: 1px solid var(--foc-hover-border-color);
      box-shadow: 0 2px 4px 0 var(--foc-box-shadow);

      &:not(.open-item):before {
        background-color: transparent;
      }
    }
  }

  @include mobile() {
    border-top: none;
    border-right: none;
    border-bottom: none;
    border-left: none;
    border-radius: 0;
    padding: 16px 24px;
  }

  &.reply-item-add-comment-focus {
    z-index: 2;
  }

  @include big_web() {
    &:hover {
      z-index: 2;
    }
  }

  &.unread {
    background-color: var(--foc-hover-color);
    z-index: 2;

    div.add-comment-box-container div.add-comment-box div.add-comment-internal {
      background-color: var(--foc-hover-color);
      border: 1px solid var(--foc-hover-border-color);
    }
  }

  div.add-comment-box-container {
    margin-top: 8px;

    @include mobile(){
      margin-bottom: 0;
    }

    div.add-comment-box div.add-comment-internal {
      background-color: var(--foc-background-color);
      border: 1px solid var(--foc-divider-line-color);
    }
  }

  &:not(.open-item):before {
    content: "";
    width: calc(100% - 64px);
    margin-left: 32px;
    height: 1px;
    background-color: var(--foc-divider-line-color);
    position: absolute;
    top: 0;
    left: 0;
  }

  &.open-item {
    border-top: 1px solid var(--foc-divider-line-color);
    padding-top: 24px;
    margin-top: 16px;
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
  }

  &.close-item {
    border-bottom: 1px solid var(--foc-divider-line-color);
    padding-bottom: 24px;
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
  }

  @include mobile() {
    background-color: var(--mobile-background-color);

    &:first-child {
      border-top: 1px solid var(--foc-divider-line-color)!important;
    }

    &.open-item {
      border-top: none;
      padding-top: 24px;
      border-top-left-radius: 0;
      border-top-right-radius: 0;
    }

    &.close-item {
      border-bottom: 1px solid var(--foc-divider-line-color);
      padding-bottom: 24px;
      margin-bottom: 0;
    }
  }

  &.unread {
    background-color: var(--overlay-background-color);

    @include mobile() {
      background-color: var(--background-color);
    }

  }

  div.reply-item-top {
    padding: 0 32px 16px;
    margin-bottom: 16px;
    border-bottom: 1px solid var(--foc-divider-line-color);

    div.reply-item-header {
      display: flex;
      flex-flow: row nowrap;
      justify-content: flex-start;
      align-items: center;
      height: 24px;
      text-align: left;
      position: relative;
      max-width: 100%;

      div.post-authorship {
        flex: 0 1 auto;
        z-index: 2;
        max-width: 100%;
        display: contents;
      }

      span.time-since {
        @include OC_Body_Book();
        font-size: 12px;
        line-height: 18px;
        flex: 0 0 auto;
        color: var(--color);
        align-self: center;
      }

      button.mute-bt {
        flex: 0 0 auto;
        width: 24px;
        height: 24px;
        margin-left: auto;
        background-size: 14px 16px;
        background-position: center;
        background-repeat: no-repeat;
        opacity: 0.5;

        &.following {
          background-image: cdnUrl("/img/ML/mobile_more_follow.svg");
        }

        &.unfollowing {
          background-image: cdnUrl("/img/ML/more_inbox_unfollow.svg");
        }

        @include dark_mode() {
          &.following {
            background-image: cdnUrl("/img/ML/mobile_more_follow@dark.svg");
          }

          &.unfollowing {
            background-image: cdnUrl("/img/ML/more_inbox_unfollow@dark.svg");
          }
        }

        @include big_web() {
          &:hover {
            opacity: 1;

            &.following {
              background-image: cdnUrl("/img/ML/more_inbox_unfollow.svg");
            }

            &.unfollowing {
              background-image: cdnUrl("/img/ML/mobile_more_follow.svg");
            }

            @include dark_mode() {
              &.following {
                background-image: cdnUrl("/img/ML/more_inbox_unfollow@dark.svg");
              }

              &.unfollowing {
                background-image: cdnUrl("/img/ML/mobile_more_follow@dark.svg");
              }
            }
          }
        }
      }
    }

    div.reply-item-title {
      @include activity-title(16px, 20px);
      margin-top: 8px;

      @include truncate (2, 20px);
    }

    div.reply-item-body {
      margin-top: 4px;
      @include activity-body-preview(16, 22, var(--color), 3);

      @include mobile() {
        @include activity-body-preview(16, 20, var(--color), 2);
      }

      height: auto;
      min-height: initial;
    }

    div.reply-item-footer {
      margin-top: 10px;
      min-height: 26px;
      position: relative;

      @include mobile() {
        height: auto;
        overflow: hidden;
        height: 32px;
      }

      div.reactions {
        @include mobile() {
          display: inline-block;
        }
      }

      div.reply-item-footer-mobile-group {
        @include mobile() {
          display: inline-block;
          padding-top: 4px;
          height: 32px;
        }
      }

      div.reply-body-draft-edit {
        float: left;

        button.edit-draft-bt {
          text-align: left;
          padding: 0px;
          @include OC_Body_Bold();
          font-size: 14px;
          color: $wut_purple;
        }
      }

      div.reply-body-draft-delete {
        float: right;
        button.delete-draft-bt {
          text-align: right;
          padding: 0px;
          @include OC_Body_Bold();
          font-size: 14px;
          color: var(--light-color);
        }
      }

      div.reply-item-comments-summary {
        float: left;
        margin-right: 32px;
        // position: absolute;
        // left: 150px;
        // top: 0;

        // div.is-comments:not(:empty) {
        //   margin-left: 36px;
        // }

        @include mobile() {
          margin-top: 1px;
          position: relative;
          top: initial;
          left: initial;
        }
      }

      div.reactions {
        float: left;
        margin-right: 32px;

        div.reactions-picker-container {

          div.emoji-mart {
            bottom: unset;
            top: 0;
            left: calc(100% + 8px);

            @include mobile(){
              bottom: unset;
              right: unset;
              top: unset;
              left: unset;
            }
          }
        }
      }

      div.reply-item-wrt {
        float: left;
        position: relative;
        margin-right: 32px;
        // position: absolute;
        // left: 274px;
        // top: 0;

        @include mobile() {
          display: none;
        }
      }
    }
  }

  div.separator-dot {
    width: 3px;
    height: 3px;
    background-color: var(--light-color);
    border-radius: 50%;
    margin: 1px 5px 0 5px;
    flex: 0 0 auto;
  }

  div.reply-item-blocks {

    button.view-more-bt {
      width: 100%;
      height: 20px;
      padding: 0 32px;
      margin-bottom: 12px;
      @include OC_Body_Book();
      font-size: 16px;
      line-height: 20px;
      color: var(--light-color);
      text-align: left;
      position: relative;
      background-color: var(--foc-background-color);

      &.has-unseen {
        color: $carrot_green;
      }

      @include big_web() {
        &:hover {
          text-decoration: underline;
        }
      }
    }

    & > * {
      padding-left: 32px;
      padding-right: 32px;
    }

    div.reply-item-loading {
      height: 30px;
      margin-left: 8px;

      div.small-loading {
        margin-top: 6px;
        margin-right: 6px;
        float: left;
      }

      span.reply-item-loading-inner {
        font-size: 13px;
        @include OC_Body_Book();
        line-height: 30px;
        float: left;
      }
    }

    div.reply-item-block {
      position: relative;
      height: 100%;
      background-color: var(--foc-background-color);

      @include big_web() {
        &:hover {
          background-color: var(--opac-background-color-04);
        }
      }

      // Edit comment from stream-comments component
      div.stream-comment-outer {
        padding: 4px 0;

        div.stream-comment div.add-comment-box-container {
          margin-top: 0;
          margin-bottom: 0;
        }
      }

      div.reply-item-block {
        margin-top: 4px;
      }

      &.horizontal-line {
        div.reply-comment-outer {
          padding-right: 0;
          padding-top: 2px;
          margin-top: -8px;
        }
      }

      div.reply-comment-outer {
        padding: 0;
        position: relative;
        width: calc(100% + 16px);
        padding-left: 8px;
        padding-right: 8px;
        margin-left: -8px;

        &.showing-picker, &:hover {
          div.reply-comment div.reply-comment-floating-buttons {
            display: block;
          }
        }

        &.new-comment {
          margin-bottom: 1px;
        }

        div.reply-comment {
          position: relative;

          div.reply-comment-inner {
            padding: 4px 0;
          }

          div.reply-comment-mobile-menu {
            display: none;
            float: right;

            div.emoji-picker-container {
              button.close-bt {
                display: none;
              }
            }

            @include mobile() {
              display: block;

              div.emoji-picker-container {
                width: 100vw;
                position: fixed;
                top: 0;
                bottom: 0;
                left: 0;
                right: 0;
                height: 100vh;
                background-color: white;
                z-index: 104;
                padding-top: 29px;

                button.close-bt {
                  color: var(--color);
                  padding: 0;
                  margin: 0;
                  @include OC_Body_Bold();
                  font-size: 16px;
                  position: absolute;
                  top: 8px;
                  right: 8px;
                  display: block;
                }

                div.emoji-mart {
                  position: relative;
                  width: 100% !important;
                  height: calc(100vh - 29px);
                  bottom: unset;
                  box-shadow: none;
                  border-radius: none;
                  border: none;

                  div.emoji-mart-scroll {
                    height: calc(100vh - 29px - 46px - 29px);
                  }

                  div.emoji-mart-bar:last-child {
                    display: none;
                  }
                }
              }

              div.more-menu {
                button.more-menu-bt {
                  margin-top: -12px;
                  margin-left: 7px;
                  background-color: transparent;
                }

                ul.more-menu-list {
                  width: 94px;
                  top: 20px;
                  right: 0;
                  left: unset;
                }
              }
            }
          }

          div.reply-comment-floating-buttons {
            position: absolute;
            top: -8px;
            right: 8px;
            height: 32px;
            z-index: 2;
            display: none;
            border-radius: 6px;
            box-shadow: var(--comments-floating-bt-shadow);
            background-color: var(--comments-floating-bt-background);
            border: 1px solid var(--comments-floating-bt-border);

            div.more-bt-container {
              height: 32px;
              float: left;
              position: relative;

              div.comment-more-menu-container {
                position: absolute;
                top: 34px;
                left: 0;
                padding: 8px 0;
                border-radius: 4px;
                width: 78px;
                outline: none;
                z-index: 110;
                background-color: var(--color);
                border: var(--comments-floating-bt-border);

                button {
                  padding: 0;
                  margin: 0;
                  @include OC_Body_Book();
                  font-size: 14px;
                  color: var(--tooltip-color);
                  line-height: 18px;
                  cursor: pointer;
                  padding: 8px 16px;
                  background-color: var(--tooltip-background-color);
                  position: relative;
                }
              }
            }

            div.react-bt-container {
              height: 32px;
              float: left;

              div.emoji-mart {
                position: absolute;
                top: 0;
                right: 0;
                bottom: unset;
                left: unset;
              }

              div.emoji-picker-container {
                button.close-bt {
                  display: none;
                }
              }
            }

            div.react-bt-container .tooltip {
              width: 86px;
            }

            & > button.floating-bt:last-child, & > div:last-child > button.floating-bt {
              padding-right: 11px;
              width: 31px;
              background-position: left 6px top 50%;
            }

            & > button.floating-bt:first-child, & > div:first-child > button.floating-bt {
              padding-left: 11px;
              width: 31px;
              background-position: left 11px top 50%;
            }

            button.floating-bt {
              padding: 0;
              height: 32px;
              width: 24px;
              background-position: center;
              background-repeat: no-repeat;
              padding: 10px 6px;
              float: left;
              @include OC_Body_Bold();
              font-size: 12px;
              line-height: 32px;
              color: var(--color);
              text-transform: uppercase;
              background-position: center;

              @include big_web() {
                opacity: 0.5;
                &:hover {
                  opacity: 1;
                }
              }

              &.more-bt {
                background-image: cdnUrl("/img/ML/comment_more@dark.svg");
                background-size: 14px 3px;
              }

              &.reply-bt {
                background-image: cdnUrl("/img/ML/comment_reply@dark.svg");
                background-size: 14px 12px;
              }

              &.react-bt {
                background-image: cdnUrl("/img/ML/comment_react@dark.svg");
                background-size: 14px 14px;

                div.emoji-mart {
                  right: 0;
                  left: unset;
                  position: absolute;
                  top: 34px;
                }
              }

              @include dark_mode() {
                &.more-bt {
                  background-image: cdnUrl("/img/ML/comment_more.svg");
                  background-size: 14px 3px;
                }

                &.reply-bt {
                  background-image: cdnUrl("/img/ML/comment_reply.svg");
                }

                &.react-bt {
                  background-image: cdnUrl("/img/ML/comment_react.svg");
                }
              }
            }
          }

          div.reply-comment-right {
            margin-left: 32px;

            @include mobile() {
              margin-left: 32px;
            }

            @include preload_image(cdnUrl("/img/ML/comment_react@dark.svg"));

            @include dark_mode() {
              @include preload_image(cdnUrl("/img/ML/comment_react.svg"));
            }
          }

          div.reply-comment-header {
            height: 24px;

            div.reply-comment-author-right {
              float: left;
              max-width: 100%;
              display: flex;
              flex-direction: row;
              align-items: flex-start;
              flex-wrap: nowrap;
              height: 18px;
              align-items: center;
              justify-content: flex-start;

              @include preload_image(cdnUrl("/img/ML/comment_reply@dark.svg"));

              @include dark_mode() {
                @include preload_image(cdnUrl("/img/ML/comment_reply.svg"));
              }

              a.reply-comment-author-name {
                @include OC_Body_Book();
                font-size: 12px;
                color: var(--color);
                line-height: 15px;
                float: left;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
                text-decoration: underline;

                &.clickable-name {
                  cursor: pointer;

                  @include big_web() {
                    &:hover {
                      color: $wut_purple;
                    }
                  }
                }
              }

              @include mobile() {
                max-width: 80%;
              }

              div.reply-comment-author-right-group {
                width: auto;
                flex: 1 1 auto;
                display: flex;
                flex-direction: row;
                flex-wrap: nowrap;
                align-items: center;
                justify-content: flex-start;
                max-width: 100%;

                &.new-comment {
                  max-width: calc(100% - 35px);
                }

                div.reply-comment-author-name-container {
                  flex: 1 0 auto;
                  position: relative;

                  div.user-info-hover {
                    transform: translateX(-40px);
                  }

                  div.reply-comment-author-avatar {
                    position: absolute;
                    left: -32px;
                    top: 0;
                    width: 32px;
                    height: 24px;
                    padding-right: 8px;

                    @include user-profile(24);

                    @include mobile() {
                      left: -32px;
                      padding-right: 8px;
                    }
                  }

                  @include mobile() {
                    flex: 1 1 auto;
                  }
                }

                div.reply-comment-author-timestamp {
                  flex: 0 0 auto;
                }
              }

              a.reply-comment-author-name {
                @include OC_Body_Book();
                font-size: 12px;
                color: var(--color);
                line-height: 18px;
                float: left;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
                height: 18px;
                cursor: pointer;
                text-decoration: underline;

                @include big_web() {
                  &.clickable-name:hover {
                    color: $wut_purple;
                  }
                }
              }

              div.reply-comment-author-timestamp {
                @include OC_Body_Book();
                font-size: 14px;
                color: var(--color);
                float: left;
                line-height: 18px;
                height: 18px;
              }

              div.new-comment-tag {
                flex: 0 0 auto;
                width: 35px;
                height: 16px;
                position: relative;
                background-color: $feint_emerald;
                border-radius: 8px;

                &:before {
                  width: 35px;
                  height: 16px;
                  @include OC_Body_Bold();
                  font-size: 11px;
                  line-height: 16px;
                  content: "NEW";
                  color: $carrot_green;
                  position: absolute;
                  top: 0;
                  left: 0;
                  text-align: center;
                }
              }
            }
          }

          div.reply-comment-content {
            text-align: left;
            position: relative;

            div.reply-comment-body {
              @include activity-comment(16, 22, 12);

              @include mobile() {
                @include activity-comment(18, 24, 12);
              }

              .interactive-image {
                cursor: zoom-in;

                &:hover {
                  opacity: 0.7;
                }
              }
            }
          }

          button.read-more-bt {
            text-align: left;
            display: none;
            width: auto;
            @include OC_Body_Book();
            color: var(--color);
            font-size: 12px;
            line-height: 18px;
            padding: 0;
            margin: 0;
            text-decoration: underline;
          }

          div.reply-comment-reactions-footer {
            height: 18px;
            margin-top: 4px;

            @include mobile() {
              margin-bottom: 4px;
            }

            div.reactions {
              height: 18px;

              div.reactions-list {

                button.reaction-btn {
                  height: 18px;
                  padding: 0;
                  margin-left: 8px;

                  &:first-child {
                    margin-left: 0px;
                  }

                  span.reaction {
                    font-size: 18px;
                    line-height: 21px;
                    margin-right: 0;
                    display: inline;
                    text-align: left;

                    &.safari {
                      @include retina_screen() {
                        font-size: 14px;
                      }
                    }
                  }

                  div.count {
                    line-height: 21px;
                    font-size: 14px;
                    margin-left: 4px;
                    margin-top: 0;
                  }

                  &.reaction-picker {
                    span.reaction {
                      margin-top: 0;
                      width: 23px;
                      height: 16px;
                      background-size: contain;
                      background-position: center;
                      margin-top: 0;
                      margin-right: 0;
                    }
                  }
                }
              }
            }
          }

          div.reply-comment-footer {
            height: 24px;
            margin-top: 2px;

            @include mobile() {
              margin-top: 8px;
            }
          }
        }
      }
    }
  }
}